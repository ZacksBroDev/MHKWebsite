version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Node.js version:"
        - node --version
        - echo "NPM version:"
        - npm --version
        - echo "Installing dependencies..."
        - npm ci
        - echo "Dependencies installed successfully"
    build:
      commands:
        - echo "=== AWS AMPLIFY DEBUG ==="
        - echo "Current working directory:"
        - pwd
        - echo "=== All JSX files in project ==="
        - find . -name "*.jsx" -type f | sort
        - echo "=== src/pages structure ==="
        - ls -la src/pages/
        - echo "=== Home.jsx search ==="
        - find . -name "Home.jsx" -type f
        - echo "=== Case variations ==="
        - find . -name "*ome.*" -type f
        - echo "=== Direct path check ==="
        - ls -la src/pages/home/Home.jsx || echo "FILE NOT FOUND"
        - echo "=== Running build ==="
        - npm run build
        - echo "Build completed successfully"
        - echo "Checking dist directory:"
        - ls -la dist/
  artifacts:
    baseDirectory: dist
    files:
      - "**/*"
  cache:
    paths:
      - node_modules/**/*
